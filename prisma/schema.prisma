generator client {
  provider        = "prisma-client-js"
  // output   = "../generated/prisma"
  previewFeatures = ["views"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                    String                   @id @default(cuid())
  name                  String
  email                 String                   @unique
  emailVerified         Boolean                  @default(false) @map("email_verified")
  image                 String?
  createdAt             DateTime                 @default(now())
  updatedAt             DateTime                 @updatedAt
  lastActiveAt          DateTime?                @map("last_active_at")
  password              String?
  cefrLevel             String?                  @default("A0-")
  level                 Int                      @default(1)
  xp                    Int                      @default(0)
  schoolId              String?                  @map("school_id")
  School                School?                  @relation(fields: [schoolId], references: [id])
  role                  String?                  @default("user")
  roleId                String?                  @map("role_id")
  roleRef               Role?                    @relation(fields: [roleId], references: [id])
  banned                Boolean?
  banReason             String?
  banExpires            DateTime?
  accounts              Account[]
  sessions              Session[]
  ArticleActivityLog    ArticleActivityLog[]
  AssignmentStudent     AssignmentStudent[]
  studentClassroom      ClassroomStudent[]
  ClassroomTeachers     ClassroomTeachers[]
  FlashcardDeck         FlashcardDeck[]
  SchoolAdmins          SchoolAdmins[]
  userActivity          UserActivity[]
  XpLogs                XPLogs[]
  userLessonProgress    UserLessonProgress[]
  learningGoals         LearningGoal[]
  receivedNotifications AssignmentNotification[] @relation("StudentNotifications")
  sentNotifications     AssignmentNotification[] @relation("TeacherNotifications")
  aiinsights            AIInsight[]

  @@map("users")
}

model Account {
  id                    String    @id @default(cuid())
  userId                String    @map("user_id")
  accountId             String    @map("account_id")
  providerId            String    @map("provider_id")
  accessToken           String?   @map("access_token")
  refreshToken          String?   @map("refresh_token")
  accessTokenExpiresAt  DateTime? @map("access_token_expires_at")
  refreshTokenExpiresAt DateTime? @map("refresh_token_expires_at")
  scope                 String?
  idToken               String?   @map("id_token")
  password              String?
  createdAt             DateTime  @default(now()) @map("created_at")
  updatedAt             DateTime  @updatedAt @map("updated_at")
  user                  User      @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("accounts")
}

model Session {
  id        String   @id @default(cuid())
  userId    String   @map("user_id")
  token     String   @unique @map("session_token")
  expiresAt DateTime @map("expires_at")
  ipAddress String?  @map("ip_address")
  userAgent String?  @map("user_agent")
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("sessions")
}

model Verification {
  id         String   @id @default(cuid())
  identifier String
  value      String
  expiresAt  DateTime @map("expires_at")
  createdAt  DateTime @default(now()) @map("created_at")
  updatedAt  DateTime @updatedAt @map("updated_at")

  @@map("verifications")
}

model Role {
  id    String @id @default(cuid())
  name  String @unique
  users User[]

  @@map("roles")
}

model XPLogs {
  id           String         @id @default(cuid())
  userId       String         @map("user_id")
  xpEarned     Int
  activityId   String?
  activityType ActivityType
  createdAt    DateTime       @default(now())
  updatedAt    DateTime       @updatedAt
  user         User           @relation(fields: [userId], references: [id], onDelete: Cascade)
  UserActivity UserActivity[] @relation("UserActivityToXPLogs")

  @@map("xp_logs")
}

model UserActivity {
  id           String       @id @default(cuid())
  userId       String       @map("user_id")
  activityType ActivityType
  targetId     String?
  timer        Int?
  details      Json?
  completed    Boolean      @default(false)
  createdAt    DateTime     @default(now())
  updatedAt    DateTime     @updatedAt
  user         User         @relation(fields: [userId], references: [id], onDelete: Cascade)
  xpLogs       XPLogs[]     @relation("UserActivityToXPLogs")

  @@index([userId, activityType, targetId])
  @@map("user_activities")
}

model Article {
  id                           String                         @id @default(cuid())
  type                         String
  genre                        String
  subGenre                     String?                        @map("sub_genre")
  title                        String
  summary                      String
  passage                      String
  imageDescription             String                         @map("image_description")
  cefrLevel                    String                         @map("cefr_level")
  raLevel                      Int                            @map("ra_level")
  rating                       Float
  audioUrl                     String?                        @map("audio_url")
  audioWordUrl                 String?                        @map("audio_word_url")
  sentences                    Json?
  words                        Json?
  authorId                     String?                        @map("author_id")
  createdAt                    DateTime                       @default(now()) @map("created_at")
  updatedAt                    DateTime                       @updatedAt @map("updated_at")
  translatedPassage            Json?                          @map("translated_passage")
  translatedSummary            Json?                          @map("translated_summary")
  isApproved                   Boolean                        @default(false) @map("is_approved")
  isDraft                      Boolean                        @default(false) @map("is_draft")
  isPublished                  Boolean                        @default(false) @map("is_published")
  brainstorming                String?                        @map("brainstorming")
  planning                     String?                        @map("planning")
  topic                        String?
  articleActivityLog           ArticleActivityLog[]
  Assignment                   Assignment[]
  flashcardCards               FlashcardCard[]
  longAnswerQuestions          LongAnswerQuestion[]
  multipleChoiceQuestions      MultipleChoiceQuestion[]
  sentencsAndWordsForFlashcard SentencsAndWordsForFlashcard[]
  shortAnswerQuestions         ShortAnswerQuestion[]
  userLessonProgress           UserLessonProgress[]

  @@map("article")
}

model ArticleActivityLog {
  id                                String   @id @default(cuid())
  articleId                         String   @map("article_id")
  createdAt                         DateTime @default(now())
  updatedAt                         DateTime @updatedAt
  isRead                            Boolean  @default(false)
  isMultipleChoiceQuestionCompleted Boolean  @default(false)
  isShortAnswerQuestionCompleted    Boolean  @default(false)
  isLongAnswerQuestionCompleted     Boolean  @default(false)
  isRated                           Boolean  @default(false)
  isSentenceAndWordsSaved           Boolean  @default(false)
  isSentenceMatchingCompleted       Boolean  @default(false)
  isSentenceOrderingCompleted       Boolean  @default(false)
  isSentenceWordOrderingCompleted   Boolean  @default(false)
  isSentenceClozeTestCompleted      Boolean  @default(false)
  userId                            String   @map("user_id")
  article                           Article  @relation(fields: [articleId], references: [id], onDelete: Cascade)
  user                              User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("article_activity_logs")
}

model SentencsAndWordsForFlashcard {
  id                String        @id @default(cuid())
  sentence          Json?
  audioSentencesUrl String?       @map("audio_sentences_url")
  words             Json?
  wordsUrl          String?       @map("words_url")
  createdAt         DateTime      @default(now())
  updatedAt         DateTime      @updatedAt
  articleId         String?       @map("article_id")
  article           Article?      @relation(fields: [articleId], references: [id], onDelete: Cascade)
  storyChapterId    String?       @map("story_chapter_id")
  storyChapter      StoryChapter? @relation(fields: [storyChapterId], references: [id], onDelete: Cascade)

  @@index([articleId])
  @@index([storyChapterId])
  @@map("sentencs_and_words_for_flashcard")
}

model MultipleChoiceQuestion {
  id              String        @id @default(cuid())
  question        String
  options         String[]
  answer          String
  textualEvidence String?
  articleId       String?       @map("article_id")
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
  article         Article?      @relation(fields: [articleId], references: [id], onDelete: Cascade)
  storyChapter    StoryChapter? @relation(fields: [storyChapterId], references: [id], onDelete: Cascade)
  storyChapterId  String?       @map("story_chapter_id")

  @@index([articleId])
  @@index([storyChapterId])
  @@map("multiple_choice_questions")
}

model ShortAnswerQuestion {
  id             String        @id @default(cuid())
  question       String
  answer         String
  articleId      String?       @map("article_id")
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt
  article        Article?      @relation(fields: [articleId], references: [id], onDelete: Cascade)
  storyChapter   StoryChapter? @relation(fields: [storyChapterId], references: [id], onDelete: Cascade)
  storyChapterId String?       @map("story_chapter_id")

  @@index([articleId])
  @@index([storyChapterId])
  @@map("short_answer_questions")
}

model LongAnswerQuestion {
  id             String        @id @default(cuid())
  question       String
  articleId      String?       @map("article_id")
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt
  article        Article?      @relation(fields: [articleId], references: [id], onDelete: Cascade)
  storyChapter   StoryChapter? @relation(fields: [storyChapterId], references: [id], onDelete: Cascade)
  storyChapterId String?       @map("story_chapter_id")

  @@index([articleId])
  @@index([storyChapterId])
  @@map("long_answer_questions")
}

model FlashcardDeck {
  id          String          @id @default(cuid())
  userId      String          @map("user_id")
  name        String?
  type        FlashcardType
  description String?
  createdAt   DateTime        @default(now())
  updatedAt   DateTime        @updatedAt
  cards       FlashcardCard[]
  user        User            @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("flashcard_decks")
}

model FlashcardCard {
  id             String          @id @default(cuid())
  deckId         String          @map("deck_id")
  type           FlashcardType
  articleId      String?         @map("article_id")
  storyChapterId String?         @map("story_chapter_id")
  audioUrl       String?         @map("audio_url")
  startTime      Float?          @map("start_time")
  endTime        Float?          @map("end_time")
  word           String?
  definition     Json?
  sentence       String?
  translation    Json?
  context        String?
  due            DateTime        @default(now())
  stability      Float           @default(0.0)
  difficulty     Float           @default(0.0)
  elapsedDays    Int             @default(0) @map("elapsed_days")
  scheduledDays  Int             @default(0) @map("scheduled_days")
  learningSteps  Int             @default(0) @map("learning_steps")
  reps           Int             @default(0)
  lapses         Int             @default(0)
  state          CardState       @default(NEW)
  lastReview     DateTime?       @map("last_review")
  createdAt      DateTime        @default(now())
  updatedAt      DateTime        @updatedAt
  reviews        CardReview[]
  clozeTestGame  ClozeTestGame[]
  article        Article?        @relation(fields: [articleId], references: [id], onDelete: Cascade)
  storyChapter   StoryChapter?   @relation(fields: [storyChapterId], references: [id], onDelete: Cascade)
  deck           FlashcardDeck   @relation(fields: [deckId], references: [id], onDelete: Cascade)

  @@map("flashcard_cards")
}

model CardReview {
  id         String        @id @default(cuid())
  cardId     String        @map("card_id")
  rating     Int
  timeSpent  Int?          @map("time_spent")
  reviewedAt DateTime      @default(now())
  card       FlashcardCard @relation(fields: [cardId], references: [id], onDelete: Cascade)

  @@map("card_reviews")
}

model ClozeTestGame {
  id              String        @id @default(cuid())
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
  flashcardCardId String        @map("flashcard_card_id")
  flashcardCard   FlashcardCard @relation(fields: [flashcardCardId], references: [id], onDelete: Cascade)

  @@map("cloze_test_games")
}

model Classroom {
  id               String              @id @default(cuid())
  name             String
  classCode        String?             @unique
  codeExpiresAt    DateTime?
  createdAt        DateTime            @default(now())
  updatedAt        DateTime            @updatedAt
  grade            String?
  passwordStudents String?             @map("password_students")
  schoolId         String?             @map("school_id")
  Assignment       Assignment[]
  students         ClassroomStudent[]
  teachers         ClassroomTeachers[]
  school           School?             @relation(fields: [schoolId], references: [id])

  @@map("classrooms")
}

model ClassroomStudent {
  id          String    @id @default(cuid())
  studentId   String
  classroomId String
  classroom   Classroom @relation(fields: [classroomId], references: [id], onDelete: Cascade)
  student     User      @relation(fields: [studentId], references: [id], onDelete: Cascade)

  @@unique([classroomId, studentId])
  @@map("classroom_students")
}

model School {
  id           String         @id @default(cuid())
  name         String
  contactName  String?        @map("contact_name")
  contactEmail String?        @map("contact_email")
  createdAt    DateTime       @default(now())
  updatedAt    DateTime       @updatedAt
  ownerId      String?        @map("owner_id")
  classrooms   Classroom[]
  licenses     License[]
  admins       SchoolAdmins[]
  users        User[]
  leaderboards Leaderboard[]

  @@map("schools")
}

model License {
  id           String           @id @default(cuid())
  key          String           @unique
  name         String
  description  String?
  subscription SubscriptionType @default(BASIC)
  maxUsers     Int              @map("max_users")
  startDate    DateTime         @map("start_date")
  expiryDate   DateTime?
  status       String           @default("active")
  schoolId     String?          @map("school_id")
  createdAt    DateTime         @default(now())
  updatedAt    DateTime         @updatedAt
  School       School?          @relation(fields: [schoolId], references: [id])

  @@map("licenses")
}

model SchoolAdmins {
  id        String   @id @default(cuid())
  schoolId  String
  userId    String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  school    School   @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("school_admins")
}

model ClassroomTeachers {
  id          String    @id @default(cuid())
  classroomId String
  userId      String
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  classroom   Classroom @relation(fields: [classroomId], references: [id], onDelete: Cascade)
  user        User      @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("classroom_teachers")
}

model Assignment {
  id                      String                   @id @default(cuid())
  name                    String?
  description             String?
  classroomId             String                   @map("classroom_id")
  articleId               String                   @map("article_id")
  teacherId               String                   @map("teacher_id")
  teacherName             String                   @map("teacher_name")
  dueDate                 DateTime                 @map("due_date")
  createdAt               DateTime                 @default(now())
  updatedAt               DateTime                 @updatedAt
  AssignmentStudent       AssignmentStudent[]
  article                 Article                  @relation(fields: [articleId], references: [id], onDelete: Cascade)
  classroom               Classroom                @relation(fields: [classroomId], references: [id], onDelete: Cascade)
  userLessonProgress      UserLessonProgress[]
  assignmentNotifications AssignmentNotification[]

  @@map("assignments")
}

model AssignmentStudent {
  id           String           @id @default(cuid())
  assignmentId String           @map("assignment_id")
  studentId    String           @map("student_id")
  status       AssignmentStatus @default(NOT_STARTED)
  startedAt    DateTime?        @map("started_at")
  score        Int?             @map("score")
  completedAt  DateTime?        @map("completed_at")
  createdAt    DateTime         @default(now())
  updatedAt    DateTime         @updatedAt
  assignment   Assignment       @relation(fields: [assignmentId], references: [id], onDelete: Cascade)
  student      User             @relation(fields: [studentId], references: [id], onDelete: Cascade)

  @@unique([assignmentId, studentId])
  @@map("assignment_students")
}

enum ActivityType {
  ARTICLE_RATING
  ARTICLE_READ
  LEVEL_TEST
  MC_QUESTION
  SA_QUESTION
  LA_QUESTION
  SENTENCE_FLASHCARDS
  SENTENCE_MATCHING
  SENTENCE_ORDERING
  SENTENCE_WORD_ORDERING
  SENTENCE_CLOZE_TEST
  VOCABULARY_FLASHCARDS
  VOCABULARY_MATCHING
  STORIES_RATING
  STORIES_READ
  STORIES_CHAPTER_RATING
  STORIES_CHAPTER_READ
  STORIES_MC_QUESTION
  STORIES_SA_QUESTION
  STORIES_LA_QUESTION
}

enum FlashcardType {
  VOCABULARY
  SENTENCE
}

enum CardState {
  NEW
  LEARNING
  REVIEW
  RELEARNING
}

enum SubscriptionType {
  BASIC
  PREMIUM
  ENTERPRISE
}

enum AssignmentStatus {
  NOT_STARTED
  IN_PROGRESS
  COMPLETED
}

model UserLessonProgress {
  id           String      @id @default(cuid())
  userId       String      @map("user_id")
  articleId    String      @map("article_id")
  assignmentId String?     @map("assignment_id")
  progress     Int         @default(0)
  score        Int?        @map("score")
  timeSpent    Int         @default(0)
  isCompleted  Boolean     @default(false)
  createdAt    DateTime    @default(now())
  updatedAt    DateTime    @updatedAt
  user         User        @relation(fields: [userId], references: [id], onDelete: Cascade)
  article      Article     @relation(fields: [articleId], references: [id], onDelete: Cascade)
  assignment   Assignment? @relation(fields: [assignmentId], references: [id], onDelete: Cascade)

  @@map("user_lesson_progress")
}

model Leaderboard {
  id        String   @id @default(cuid())
  schoolId  String?  @map("school_id")
  details   Json?    @map("details")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  school    School?  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@map("leaderboards")
}

model Story {
  id                String         @id @default(cuid())
  topic             String
  title             String
  summary           String
  translatedSummary Json?
  imageDescription  String
  characters        Json?
  type              String?
  genre             String?
  subGenre          String?
  cefrLevel         String?
  raLevel           Int?
  rating            Float?
  isPublished       Boolean        @default(false) @map("is_published")
  createdAt         DateTime       @default(now())
  updatedAt         DateTime       @updatedAt
  storyChapters     StoryChapter[]

  @@map("stories")
}

model StoryChapter {
  id                            String                         @id @default(cuid())
  storyId                       String
  chapterNumber                 Int
  title                         String
  summary                       String
  translatedSummary             Json?
  imageDescription              String
  passage                       String
  sentences                     Json?
  translatedSentences           Json?
  audioSentencesUrl             String?                        @map("audio_sentences_url")
  createdAt                     DateTime                       @default(now())
  updatedAt                     DateTime                       @updatedAt
  story                         Story                          @relation(fields: [storyId], references: [id], onDelete: Cascade)
  multipleChoiceQuestions       MultipleChoiceQuestion[]
  shortAnswerQuestions          ShortAnswerQuestion[]
  longAnswerQuestions           LongAnswerQuestion[]
  flashcardCards                FlashcardCard[]
  sentencsAndWordsForFlashcards SentencsAndWordsForFlashcard[]

  @@map("story_chapters")
}

enum AIInsightType {
  TREND
  ALERT
  RECOMMENDATION
  ACHIEVEMENT
  WARNING
}

enum AIInsightScope {
  STUDENT
  TEACHER
  CLASSROOM
  LICENSE
  SYSTEM
}

enum AIInsightPriority {
  LOW
  MEDIUM
  HIGH
  CRITICAL
}

enum GoalType {
  XP_TOTAL // Total XP target
  XP_DAILY // Daily XP target
  XP_WEEKLY // Weekly XP target
  ARTICLES_READ // Number of articles
  READING_TIME // Minutes of reading
  VOCABULARY // New words learned
  STREAK // Daily streak
  CEFR_LEVEL // Reach a CEFR level
  CUSTOM // User-defined goal
}

enum GoalStatus {
  ACTIVE
  COMPLETED
  PAUSED
  CANCELLED
  EXPIRED
}

enum GoalPriority {
  LOW
  MEDIUM
  HIGH
}

enum RecurringPeriod {
  DAILY
  WEEKLY
  MONTHLY
}

model AIInsight {
  id          String            @id @default(cuid())
  type        AIInsightType     @map("insight_type")
  scope       AIInsightScope    @map("scope")
  priority    AIInsightPriority @default(MEDIUM)
  title       Json?
  description Json?
  confidence  Float             @default(0.0) // 0.0 to 1.0
  data        Json? // Additional structured data

  // Context references
  userId      String? @map("user_id")
  user        User?   @relation(fields: [userId], references: [id], onDelete: Cascade)
  classroomId String? @map("classroom_id")
  licenseId   String? @map("license_id")

  // Metadata
  generatedBy  String    @default("ai") @map("generated_by") // 'ai' or 'system'
  modelVersion String?   @map("model_version") // Track AI model used
  dismissed    Boolean   @default(false)
  dismissedAt  DateTime? @map("dismissed_at")
  actionTaken  Boolean   @default(false) @map("action_taken")

  // Timestamps
  validUntil DateTime? @map("valid_until")
  createdAt  DateTime  @default(now()) @map("created_at")
  updatedAt  DateTime  @updatedAt @map("updated_at")

  @@index([userId, dismissed, validUntil])
  @@index([classroomId, dismissed, validUntil])
  @@index([licenseId, dismissed, validUntil])
  @@index([scope, priority, createdAt])
  @@map("ai_insights")
}

model LearningGoal {
  id              String            @id @default(cuid())
  userId          String            @map("user_id")
  goalType        GoalType          @map("goal_type")
  title           String
  description     String?
  targetValue     Float             @map("target_value")
  currentValue    Float             @default(0) @map("current_value")
  unit            String // e.g., "articles", "xp", "words", "days"
  startDate       DateTime          @default(now()) @map("start_date")
  targetDate      DateTime          @map("target_date")
  completedAt     DateTime?         @map("completed_at")
  status          GoalStatus        @default(ACTIVE)
  priority        GoalPriority      @default(MEDIUM)
  isRecurring     Boolean           @default(false) @map("is_recurring")
  recurringPeriod RecurringPeriod?  @map("recurring_period")
  metadata        Json? // Additional flexible data (e.g., specific genres, CEFR levels)
  createdAt       DateTime          @default(now()) @map("created_at")
  updatedAt       DateTime          @updatedAt @map("updated_at")
  user            User              @relation(fields: [userId], references: [id], onDelete: Cascade)
  milestones      GoalMilestone[]
  progressLogs    GoalProgressLog[]

  @@index([userId, status])
  @@index([targetDate])
  @@map("learning_goals")
}

model GoalMilestone {
  id          String       @id @default(cuid())
  goalId      String       @map("goal_id")
  title       String
  description String?
  targetValue Float        @map("target_value")
  order       Int // Sequence order of the milestone
  achievedAt  DateTime?    @map("achieved_at")
  createdAt   DateTime     @default(now()) @map("created_at")
  goal        LearningGoal @relation(fields: [goalId], references: [id], onDelete: Cascade)

  @@index([goalId])
  @@map("goal_milestones")
}

model GoalProgressLog {
  id            String        @id @default(cuid())
  goalId        String        @map("goal_id")
  value         Float // Progress value added
  previousValue Float         @map("previous_value")
  newValue      Float         @map("new_value")
  note          String?
  activityId    String?       @map("activity_id") // Reference to XPLog or UserActivity
  activityType  ActivityType? @map("activity_type")
  createdAt     DateTime      @default(now()) @map("created_at")
  goal          LearningGoal  @relation(fields: [goalId], references: [id], onDelete: Cascade)

  @@index([goalId, createdAt])
  @@map("goal_progress_logs")
}

model AssignmentNotification {
  id           String     @id @default(cuid())
  teacherId    String     @map("teacher_id")
  studentId    String     @map("student_id")
  assignmentId String     @map("assignment_id")
  isNoticed    Boolean    @default(false) @map("is_noticed")
  createdAt    DateTime   @default(now()) @map("created_at")
  updatedAt    DateTime   @updatedAt @map("updated_at")
  assignment   Assignment @relation(fields: [assignmentId], references: [id], onDelete: Cascade)
  teacher      User       @relation("TeacherNotifications", fields: [teacherId], references: [id], onDelete: Cascade)
  student      User       @relation("StudentNotifications", fields: [studentId], references: [id], onDelete: Cascade)

  @@unique([assignmentId, studentId, teacherId])
  @@index([studentId, isNoticed])
  @@index([teacherId])
  @@map("assignment_notifications")
}

model Logs {
  id          String   @id @default(cuid())
  serviceName String   @map("service_name")
  message     String
  stackTrace  String?  @map("stack_trace")
  traceId     String?  @map("trace_id")
  userId      String?  @map("user_id")
  level       LogLevel
  meta        Json?
  timestamp   DateTime @default(now())

  @@index([serviceName, level, timestamp])
  @@map("logs")
}

enum LogLevel {
  INFO
  WARN
  ERROR
  DEBUG
}
